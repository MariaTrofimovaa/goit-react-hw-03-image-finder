{"version":3,"sources":["Components/imageGallery/imageGalleryItem/ImageGalleryItem.module.css","Components/modal/Modal.module.css","Components/imageGallery/ImageGallery.module.css","Components/button/Button.module.css","Components/searcbar/Searchbar.module.css","Components/searcbar/Searchbar.js","Components/imageGallery/imageGalleryItem/ImageGalleryItem.js","Components/imageGallery/ImageGallery.js","Components/button/Button.js","Components/modal/Modal.js","services/api.js","Components/App.js","index.js"],"names":["module","exports","Searchbar","onHandleSubmit","onHandleChange","query","className","styles","SearchForm","onSubmit","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","ImageGalleryItem","pictures","onOpenModal","map","id","webformatURL","largeImageURL","tags","src","alt","data-img","onClick","ImageGalleryItemImage","prototypes","PropTypes","arrayOf","shape","number","isRequired","string","func","ImageGallery","array","Button","Modal","handleEscape","e","code","props","onClose","onHandleClick","handleBackdropClick","target","currentTarget","window","addEventListener","this","document","querySelector","style","overflow","removeEventListener","Overlay","children","Component","fetchImages","searchQuery","page","axios","get","App","state","loading","showModal","onChangeQuery","setState","clearSubmit","preventDefault","getPictures","then","response","prevState","data","hits","scrollTo","top","documentElement","scrollHeight","behavior","finally","onToggleModal","event","dataset","img","prevProps","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a1d808ee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__qndzC\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2P7Kr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__NwqNQ\",\"Modal\":\"Modal_Modal__VKLIm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2fci1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2Tt0G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2_-Cm\",\"SearchForm\":\"Searchbar_SearchForm__2bXCt\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2Kt_p\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1nWvf\",\"SearchFormInput\":\"Searchbar_SearchFormInput__BIs6B\"};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nconst Searchbar = ({ onHandleSubmit, onHandleChange, query }) => {\r\n  return (\r\n    <header className={styles.Searchbar}>\r\n      <form className={styles.SearchForm} onSubmit={onHandleSubmit}>\r\n        <button type=\"submit\" className={styles.SearchFormButton}>\r\n          <span className={styles.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={query}\r\n          onChange={onHandleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  onHandleSubmit: PropTypes.func.isRequired,\r\n  onHandleChange: PropTypes.func.isRequired,\r\n  query: PropTypes.string,\r\n};\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ pictures, onOpenModal }) => {\r\n  return pictures.map(({ id, webformatURL, largeImageURL, tags }) => {\r\n    return (\r\n      <li className={styles.ImageGalleryItem} key={id}>\r\n        <img\r\n          src={webformatURL}\r\n          alt={tags}\r\n          data-img={largeImageURL}\r\n          onClick={onOpenModal}\r\n          className={styles.ImageGalleryItemImage}\r\n        />\r\n      </li>\r\n    );\r\n  });\r\n};\r\n\r\nImageGalleryItem.prototypes = {\r\n  pictures: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.number.isRequired,\r\n      tags: PropTypes.number.isRequired,\r\n    })\r\n  ).isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"./imageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ pictures, onOpenModal }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      <ImageGalleryItem pictures={pictures} onOpenModal={onOpenModal} />\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.prototypes = {\r\n  pictures: PropTypes.array.isRequired,\r\n  onOpenModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={styles.Button} onClick={onClick}>\r\n      LOAD MORE\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleEscape);\r\n    const body = document.querySelector(\"body\");\r\n    body.style.overflow = \"hidden\";\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleEscape);\r\n    const body = document.querySelector(\"body\");\r\n    body.style.overflow = \"auto\";\r\n  }\r\n\r\n  handleEscape = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  onHandleClick = () => this.props.onClose();\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import axios from \"axios\";\r\n\r\nexport const fetchImages = ({ searchQuery, page }) => {\r\n  const baseURL = \"https://pixabay.com/api\";\r\n  const key = \"21692069-20428e2069b68a036394e4dd0\";\r\n\r\n  return axios.get(\r\n    `${baseURL}/?q=${searchQuery}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\r\n  );\r\n};\r\n\r\n\r\n// export const fetchImages = async ({ searchQuery, page }) => {\r\n//   const key = \"21692069-20428e2069b68a036394e4dd0\";\r\n//   const baseURL = \"https://pixabay.com/api\";\r\n//   try {\r\n//     const response = await axios.get(\r\n//       baseURL +\r\n//         `q=${searchQuery}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\r\n//     );\r\n//     console.log(response);\r\n//     return response.data;\r\n//   } catch (error) {\r\n//     console.log(error);\r\n//   }\r\n// };","import React, { Component } from \"react\";\r\nimport Searchbar from \"./searcbar/Searchbar\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport ImageGallery from \"./imageGallery/ImageGallery\";\r\nimport Button from \"./button/Button\";\r\nimport Modal from \"./modal/Modal\";\r\nimport { fetchImages } from \"../services/api\";\r\nimport \"../index.css\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    pictures: [],\r\n    searchQuery: \"\",\r\n    page: 1,\r\n    loading: false,\r\n    showModal: false,\r\n    largeImageURL: \"\",\r\n    tags: \"\",\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.getPictures();\r\n\r\n      // if (prevState.page !== this.state.page) {\r\n      //   window.scrollTo({\r\n      //     top: document.documentElement.scrollHeight,\r\n      //     behavior: \"smooth\",\r\n      //   });\r\n      // }\r\n    }\r\n  }\r\n\r\n  onChangeQuery = (query) => {\r\n    this.setState({ searchQuery: query });\r\n  };\r\n\r\n  onHandleChange = ({ target }) => {\r\n    const { value: query } = target;\r\n    this.setState({ query });\r\n  };\r\n\r\n  clearSubmit = () => {\r\n    this.setState({\r\n      pictures: [],\r\n      page: 1,\r\n    });\r\n  };\r\n\r\n  onHandleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.onChangeQuery(this.state.query);\r\n    this.setState({ pictures: [], page: 1, loading: true });\r\n\r\n    this.clearSubmit();\r\n  };\r\n\r\n  getPictures = () => {\r\n    const { searchQuery, page } = this.state;\r\n\r\n    fetchImages({ searchQuery, page })\r\n      .then((response) => {\r\n        this.setState((prevState) => {\r\n          return {\r\n            pictures: [...prevState.pictures, ...response.data.hits],\r\n            page: prevState.page + 1,\r\n          };\r\n        });\r\n\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      })\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  onToggleModal = () => {\r\n    this.setState((prevState) => ({\r\n      showModal: !prevState.showModal,\r\n    }));\r\n  };\r\n\r\n  onOpenModal = (event) => {\r\n    this.setState({\r\n      largeImageURL: event.target.dataset.img,\r\n      tags: event.target.alt,\r\n    });\r\n    this.onToggleModal();\r\n  };\r\n\r\n  render() {\r\n    const { pictures, loading, showModal, largeImageURL, tags } = this.state;\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar\r\n          onHandleChange={this.onHandleChange}\r\n          onHandleSubmit={this.onHandleSubmit}\r\n        />\r\n\r\n        <div className=\"Loader\"> {loading && <Loader />}</div>\r\n\r\n        <ImageGallery pictures={pictures} onOpenModal={this.onOpenModal} />\r\n\r\n        {!!pictures.length && !loading && <Button onClick={this.getPictures} />}\r\n\r\n        {showModal && (\r\n          <Modal onClick={this.onOpenModal} onClose={this.onToggleModal}>\r\n            <img src={largeImageURL} alt={tags} />\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./Components/App\";\nimport \"./index.css\";\nimport \"modern-normalize/modern-normalize.css\";\n\nReactDOM.render(\n  <>\n    <App />\n  </>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}